const database=require("./Database");class BaseModel{constructor(e){this.db=database(e)}all(){return this.db.select()}find(e){return this.db.first().where({id:e}).then(e=>e||Promise.reject(new Error("Not Found")))}findBy(e,t){return this.db.first().where({[e]:t})}insertGetId(e){return this.db.insert(e).returning("id").then(e=>({id:e[0]}))}create(e){return this.insertGetId(e)}update(e,t){const r=this.db.update(e);return t?r.where(t):r}static newDefaultData(e){return{...e,createdAt:new Date}}}module.exports=BaseModel;