"use strict";var __importStar=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e};Object.defineProperty(exports,"__esModule",{value:!0});var fs=__importStar(require("fs")),projectPath=""+process.cwd();function declareControllers(e,t){void 0===e&&(e="src"),void 0===t&&(t=projectPath);var r=projectPath+"/"+e+"/controllers";if(!fs.existsSync(r))return fs.writeFileSync(projectPath+"/node_modules/restf/.allControllers.js","module.exports = {}");var o=fs.readdirSync(r).filter(function(r){return r.match(/^[A-Z].*\.[tj]s$/)}).filter(function(r){return!r.match(/\.(d|test|spec)\.[tj]s$/)}).map(function(r){return r.replace(/\.[tj]s$/,"")}),s="// "+t+"\n// dois\nmodule.exports = {\n";s+=o.map(function(r){return"  "+r+": require('"+t+"/"+e+"/controllers/"+r+"').default,"}).join("\n"),s+="\n}",fs.writeFileSync(projectPath+"/node_modules/restf/.allControllers.js",s)}projectPath.match(/node_modules\/restf/)&&(projectPath=projectPath.replace("/node_modules/restf","")),(exports.declareControllers=declareControllers)(process.argv[2],process.argv[3]);